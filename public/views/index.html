<!doctype html>

<html ng-app="Braid">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">

    <title>Braid</title>

    <link rel="shortcut icon" href="/img/poop_logo.ico">

    <link rel="stylesheet" href="/css/bootstrap.min.css"> <!-- Bootswatch Yeti -->
    <link rel="stylesheet" href="/css/customize_bootstrap.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/messages.css">
    <link rel="stylesheet" href="/css/convos.css">
    <link rel="stylesheet" href="/css/users.css">
    <link rel="stylesheet" href="/css/friendships.css">
    <link rel="stylesheet" href="/css/firstview.css">
    <link rel="stylesheet" href="/css/navbar.css">

    <script src="/bower_components/angular/angular.js"></script>
    <script src="/bower_components/angular-route/angular-route.min.js"></script>
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/underscore/underscore-min.js"></script>
    <script src="/bower_components/objectid.js/src/main/javascript/Objectid.js"></script>
    <script src="/bower_components/socket.io-client/socket.io.js"></script>
    <script src="/bower_components/angular-socket-io/socket.min.js"></script>
    <script src="/bower_components/angular-scroll-glue/src/scrollglue.js"></script>
    <script src="/js/controllers/main.js"></script>
    <script src="/js/directives/enter_submit.js"></script>
    <script src="/js/directives/navbar.js"></script>
    <script src="/js/directives/register.js"></script>
    <script src="/js/directives/login.js"></script>
    <script src="/js/directives/logout.js"></script>
    <script src="/js/directives/messages.js"></script>
    <script src="/js/directives/convos.js"></script>
    <script src="/js/directives/users.js"></script>
    <script src="/js/directives/friendships.js"></script>
    <script src="/js/filters/main.js"></script>
    <script src="/js/services/focus.js"></script>
    <script src="/js/services/socket.js"></script>
    <script src="/js/services/auth.js"></script>
    <script src="/js/services/messages.js"></script>
    <script src="/js/services/strands.js"></script>
    <script src="/js/services/convos.js"></script>
    <script src="/js/services/users.js"></script>
    <script src="/js/services/friendships.js"></script>
    <script src="/js/core.js"></script>

</head>

<body ng-controller="mainController as mainCtrl">

    <braid-navbar selected_user="mainCtrl.selected_user"></braid-navbar>

    <div class="container-fluid">
    <div id="margin-fixer-grid-wrapper">

        <div id="chat-view" ng-if="mainCtrl.selected_user">

            <div class="row">

                <div id="convo-view-col" class="col-sm-2 col-sm-offset-1">
                    <braid-convos friend_users="mainCtrl.friend_users"
                                  friendships="mainCtrl.friendships"
                                  selected_convo="mainCtrl.selected_convo"
                                  selected_user="mainCtrl.selected_user"
                                  friend_user_map="mainCtrl.friend_user_map">
                    </braid-convos>
                </div>

                <div id="message-view-col" class="col-sm-6">
                    <braid-messages selected_convo="mainCtrl.selected_convo"
                                    selected_user="mainCtrl.selected_user"
                                    friend_user_map="mainCtrl.friend_user_map">
                    </braid-messages>
                </div>

                <div id="friendship-view-col" class="col-sm-2">
                    <braid-friendships friend_users="mainCtrl.friend_users"
                                       friendships="mainCtrl.friendships"
                                       selected_user="mainCtrl.selected_user"
                                       friend_user_map="mainCtrl.friend_user_map">
                    </braid-friendships>
                </div>

            </div>

        </div>


        <div id="auth-view" ng-if="!mainCtrl.selected_user">

            <div class="row">

                <div id="register-view-col" class="col-sm-4" ng-hide="mainCtrl.login_object">
                    <braid-register selected_user="mainCtrl.selected_user"
                                    login_object="mainCtrl.login_object">
                    </braid-register>
                </div>

                <div id="login-view-col" class="col-sm-4" ng-hide="!mainCtrl.login_object">
                    <braid-login selected_user="mainCtrl.selected_user"
                                 login_object="mainCtrl.login_object">
                    </braid-login>
                </div>

            </div>

        </div>

    </div>
    </div>

</body>

</html>
